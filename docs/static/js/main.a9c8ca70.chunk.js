(this.webpackJsonpdigival=this.webpackJsonpdigival||[]).push([[0],{15:function(e,t,a){e.exports={scheduleTable:"components_scheduleTable__1KLi-",cell:"components_cell__Ow8LM",date:"components_date__1WOha",selectContainer:"components_selectContainer__3frwK",selectLabel:"components_selectLabel__G_byF",title:"components_title__2TmR4",actionButtons:"components_actionButtons__2Sw93"}},55:function(e,t,a){e.exports=a.p+"static/media/close.b840e171.svg"},69:function(e,t,a){e.exports=a(78)},74:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(10),r=a.n(c),l=(a(74),a(54)),s=a(31),i=a(6),u=a(25),d=a(11),m=a.n(d),b=a(123),f=a(39),v=a(112),O=a(118),h=a(127),p=a(120),E=a(121),g=a(126),j=a(124),k=a(128),y=a(117),S=a(119),w=a(122),C=a(15),N=a.n(C),D=a(55),_=a.n(D),T=Object(v.a)((function(){return{formControl:{minWidth:120,marginLeft:20},closeButton:{position:"absolute",right:8,top:8}}})),W=Array(24).fill(1);function F(){return W.map((function(e,t){var a,n=0===(a=t)||12===a?0===a?"12:00 AM":"12:00 PM":a>12?"".concat(a-12,":00 PM"):"".concat(a,":00 AM");return o.a.createElement(k.a,{value:t,key:n},n)}))}var M=function(e){var t=e.open,a=e.onClose,c=e.onSave,r=e.onDelete,l=e.scheduleData,s=T(),d=Object(n.useState)({scheduleData:l}),v=Object(u.a)(d,2),k=v[0],C=v[1];Object(n.useEffect)((function(){var e=0===Object.keys(l).length;C({start:e?0:m()(l.start).get("hour"),end:e?0:m()(l.end).get("hour"),repeatForTwoWeeks:!e&&l.repeatForTwoWeeks,noCost:!e&&l.noCost,disabled:!e&&("booked"===l.status||"booked-inactive"===l.status),scheduleData:l})}),[l]);var D=k.start,W=void 0===D?0:D,M=k.end,x=void 0===M?0:M,I=k.repeatForTwoWeeks,L=void 0!==I&&I,A=k.noCost,B=void 0!==A&&A,J=k.disabled,Y=void 0!==J&&J;function H(e){C(Object(i.a)(Object(i.a)({},k),{},Object(f.a)({},e.target.name,e.target.value)))}function K(e,t){C(Object(i.a)(Object(i.a)({},k),{},Object(f.a)({},e.target.name,t)))}return o.a.createElement(h.a,{maxWidth:"xs",open:t,onClose:a},o.a.createElement(y.a,null,"Schedule time period",o.a.createElement(O.a,{className:s.closeButton,onClick:a},o.a.createElement("img",{src:_.a,alt:"close"}))),o.a.createElement(S.a,null,o.a.createElement("div",null,Y?"You are booked for the selected time period.":"Schedule your availability for as far as two weeks from now."),o.a.createElement("div",{className:N.a.selectContainer},o.a.createElement("div",{className:N.a.selectLabel},"Start time:"),o.a.createElement("div",null,o.a.createElement(p.a,{className:s.formControl,disabled:Y},o.a.createElement(j.a,{name:"start",value:W,onChange:H},F())))),o.a.createElement("div",{className:N.a.selectContainer},o.a.createElement("div",{className:N.a.selectLabel},"End time:"),o.a.createElement("div",null,o.a.createElement(p.a,{className:s.formControl,disabled:Y},o.a.createElement(j.a,{name:"end",value:x,onChange:H},F())))),o.a.createElement("div",null,o.a.createElement(E.a,{disabled:Y,control:o.a.createElement(g.a,{checked:L,onChange:K,name:"repeatForTwoWeeks"}),label:"Repeat for next two weeks"})),o.a.createElement("div",null,o.a.createElement(E.a,{disabled:Y,color:"primary",control:o.a.createElement(g.a,{checked:B,onChange:K,name:"noCost"}),label:"No cost"}))),o.a.createElement(w.a,null,Y?o.a.createElement(b.a,{onClick:a,variant:"text",color:"primary"},"OK"):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{onClick:function(){r(l.start,l.end)},variant:"text",color:"primary"},"DELETE"),o.a.createElement(b.a,{onClick:function(){c({start:m()(l.start).set("hour",W).toISOString(),end:m()(l.start).set("hour",x).toISOString(),repeatForTwoWeeks:L,noCost:B})},variant:"text",color:"primary"},"SAVE"))))};function x(e){if("boolean"===typeof e)return"unset";switch(e.status){case"inactive":return"#e0e0e0";case"selected":return"#01b2ff";case"booked":return"#ff0100";case"booked-inactive":return"#ff9696";default:return"unset"}}var I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L=Array(24).fill(1).map((function(){return new Array(I.length).fill(!1)}));var A=function(){var e=Object(n.useState)({schedule:L,openDialog:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],r=a.schedule,d=a.openDialog,f=a.scheduleData,v=void 0===f?{}:f;function O(e){var t=e.target.id.split(","),n=Object(u.a)(t,2),o=n[0],l=n[1];if(o=Number(o),l=Number(l),["selected","inactive","booked","booked-inactive"].includes("object"===typeof r[o][l]?r[o][l].status:""))c(Object(i.a)(Object(i.a)({},a),{},{scheduleData:r[o][l],openDialog:!0}));else if(o<2||o>19)alert("Slot can be selected between ".concat(2," am and ").concat(7," pm"));else{var d=Object(s.a)(r),b=m()().startOf("date"),f={status:"selected",start:b.add(l,"day").add(o,"hour").toISOString(),end:b.add(l,"day").add(o+3,"hour").toISOString()};d[o][l]=f;for(var v=1;v<=2;v++)d[o+v][l]=f;for(var O=1;O<=2;O++)d[o-O][l]=Object(i.a)(Object(i.a)({},f),{},{status:"inactive"}),d[o+O+2][l]=Object(i.a)(Object(i.a)({},f),{},{status:"inactive"});c(Object(i.a)(Object(i.a)({},a),{},{schedule:d,scheduleData:!1}))}}return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("bookedSlots");if(null!==e){e=(e=JSON.parse(e)).filter((function(e){var t=m()(e.start).get("date"),a=m()().startOf("date").get("date");return t-a>=0&&t-a<=6}));var t,n=Object(s.a)(r),o=Object(l.a)(e);try{for(o.s();!(t=o.n()).done;){var d=t.value,b=m()(d.start).format("D,H").split(","),f=Object(u.a)(b,2),v=f[0],O=f[1],h=m()(d.end).get("hour");v=Number(v)-m()().startOf("date").get("date"),O=Number(O);for(var p=0;p<24;p++)for(var E=0;E<7;E++){var g={start:d.start,end:d.end,repeatForTwoWeeks:d.repeatForTwoWeeks,noCost:d.noCost};E===v&&p>=O&&p<h&&(n[p][E]=Object(i.a)(Object(i.a)({},g),{},{status:"booked"})),E===v&&p>=O-2&&p<O&&(n[p][E]=Object(i.a)(Object(i.a)({},g),{},{status:"booked-inactive"})),E===v&&p>=h&&p<h+2&&(n[p][E]=Object(i.a)(Object(i.a)({},g),{},{status:"booked-inactive"}))}}}catch(j){o.e(j)}finally{o.f()}c(Object(i.a)(Object(i.a)({},a),{},{openDialog:!1,scheduleData:!1,schedule:n}))}else c(Object(i.a)(Object(i.a)({},a),{},{openDialog:!1,scheduleData:!1,schedule:L}))}()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:N.a.title},o.a.createElement("h2",null,"Select a new schedule"),o.a.createElement("div",null,m()().format("MMMM, YYYY"))),o.a.createElement(M,{open:d,onClose:function(){c(Object(i.a)(Object(i.a)({},a),{},{openDialog:!1,scheduleData:!1}))},onDelete:function(e,t){var n=m()(e).format("D,H").split(","),o=Object(u.a)(n,2),l=o[0],d=o[1],b=m()(t).get("hour");l=Number(l)-m()().startOf("date").get("date"),d=Number(d);for(var f=Object(s.a)(r),v=0;v<24;v++)for(var O=0;O<7;O++)O===l&&v>=d-2&&v<=b+2&&(f[v][O]=!1);c(Object(i.a)(Object(i.a)({},a),{},{openDialog:!1,scheduleData:!1,schedule:f}))},onSave:function(e){var t=localStorage.getItem("bookedSlots");null===t?localStorage.setItem("bookedSlots",JSON.stringify([e])):(t=[e].concat(Object(s.a)(JSON.parse(t))),localStorage.setItem("bookedSlots",JSON.stringify(t)));var n=m()(e.start).format("D,H").split(","),o=Object(u.a)(n,2),l=o[0],d=o[1],b=m()(e.end).get("hour");l=Number(l)-m()().startOf("date").get("date"),d=Number(d);for(var f=Object(s.a)(r),v=0;v<24;v++)for(var O=0;O<7;O++){var h={start:e.start,end:e.end,repeatForTwoWeeks:e.repeatForTwoWeeks,noCost:e.noCost};O===l&&v>=d&&v<b&&(f[v][O]=Object(i.a)(Object(i.a)({},h),{},{status:"booked"})),O===l&&v>=d-2&&v<d&&(f[v][O]=Object(i.a)(Object(i.a)({},h),{},{status:"booked-inactive"})),O===l&&v>=b&&v<b+2&&(f[v][O]=Object(i.a)(Object(i.a)({},h),{},{status:"booked-inactive"}))}c(Object(i.a)(Object(i.a)({},a),{},{openDialog:!1,scheduleData:!1,schedule:f}))},scheduleData:v}),o.a.createElement("div",null,o.a.createElement("table",{className:N.a.scheduleTable},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),I.map((function(e){return o.a.createElement("th",{className:N.a.cell,key:e},e.slice(0,1))}))),o.a.createElement("tr",{className:N.a.date},o.a.createElement("th",null),function(){var e=m()().get("date");return Array(7).fill(0).map((function(t,a){return e+a}))}().map((function(e){return o.a.createElement("th",{key:"date-".concat(e),className:N.a.cell},e)})))),o.a.createElement("tbody",null,r.map((function(e,t){return o.a.createElement("tr",{key:"row-".concat(t)},[o.a.createElement("td",{key:"time-".concat(t)},(a=t,0===a||12===a?0===a?"12 a":"12 p":a>12?a-12:a))].concat(Object(s.a)(e.map((function(e,a){return o.a.createElement("td",{key:"".concat(t,",").concat(a),id:"".concat(t,",").concat(a),onClick:O,className:N.a.cell,style:{backgroundColor:x(e)}})})))));var a}))))),o.a.createElement("div",{className:N.a.actionButtons},o.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:function(){localStorage.clear(),window.location.reload()}},"Clear Local Storage")))};var B=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.a9c8ca70.chunk.js.map